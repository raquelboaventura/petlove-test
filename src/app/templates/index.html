<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistente PetLove</title>
    <link rel="icon" type="image/png" href="../static/img/favicon.webp">
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'petlove-main': '#512da8',
                    },
                    fontFamily: {
                        sans: ['Roboto', 'sans-serif'],
                        dynapuff: ['DynaPuff', 'cursive']
                    },
                    animation: {
                        'gradient-slow': 'gradient-shift 15s ease infinite',
                    },
                    keyframes: {
                        // Definição da animação
                        'gradient-shift': {
                            '0%, 100%': { 
                                'background-position': '0% 50%' 
                            },
                            '50%': { 
                                'background-position': '100% 50%' 
                            },
                        },
                    },
                },
            },
        }
</script>
</head>
<body class="flex items-center justify-center min-h-screen p-4 
             bg-[length:400%_400%] animate-gradient-slow" 
      style="background-image: linear-gradient(to right, #512da8, #7e57c2, #b39ddb, #7e57c2, #512da8);">
    <!-- Container Principal do Chatbot -->
    <div id="chatbot-container" class="w-full max-w-md h-[85vh] rounded-xl shadow-2xl flex flex-col overflow-hidden" style="background-image: url('../static/img/3.jpg'); background-repeat: repeat;">
        
        <!-- Cabeçalho -->
        <header class="bg-petlove-main text-white p-4 flex items-center justify-between rounded-t-xl">
            <h1 class="text-xl font-bold font-dynapuff">Assistente PetLove ❤️</h1>
            <span id="session-display" class="text-xs opacity-75">Sessão: Carregando...</span>
        </header>

        <!-- Área de Mensagens -->
        <div id="chatbox" class="chatbox space-y-4">
            <!-- Mensagem inicial do bot -->
            <div class="message bot-message self-start bg-gray-100 text-gray-800 rounded-2xl rounded-tl-md p-3 max-w-xs shadow-md">
                <p>Olá! Gerando ID de sessão...</p>
            </div>
            <!-- Indicador de carregamento (oculto inicialmente) -->
            <div id="loading-indicator" class="hidden message bot-message self-start bg-gray-200 text-gray-800 rounded-2xl rounded-tl-md p-3 max-w-xs shadow-md">
                <div class="loading-dots flex space-x-1">
                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-500 rounded-full"></div>
                </div>
            </div>
        </div>

        <!-- Formulário de Entrada -->
        <form id="input-form" class="p-4 border-t border-gray-200 flex space-x-3 bg-gray-50">
            <input type="text" id="user-input" placeholder="Digite sua mensagem..." autocomplete="off" 
                   class="flex-grow p-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 shadow-inner" required>
            <button type="submit" id="submit-button"
                    class="bg-petlove-main text-white px-4 py-2 rounded-full hover:bg-bg-petlove-main transition duration-150 font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed">
                Enviar
            </button>
        </form>
    </div>

    <script src="../static/js/script.js"></script>
</body>
</html>